---
title: Questions about Rust
date:  2022-09-29 12:00:00 +0900
categories:
  - rust
---

Rust 언어를 접하면서 생긴 궁금점을 정리한다.

```rust
#[derive(Debug)]
struct Rectangle {
    width: u32,
    height: u32,
}

fn main() {
    let rect1 = Rectangle {
        width: 30,
        height: 50,
    };

    println!("rect1 is {:?}", rect1);
}
```

### `println!()`에 붆는 `!`는 무엇인가?

함수가 아니라 macro를 의미한다.

### `#[derive(Debug)]`는?

The `derive` attribute automatically creates the implementation
required to make this `struct` printable with `fmt::Debug`.
    
### `#[cfg(test)]`는?

unit 테스트나 unit benchmarks를 할때 사용한다.
`cargo test` 또는 `rustc --test` 

```rust
assert_eq!(true, !false);
```

### `#[derive(serde::Serialize)]`는?

구조체에 대해 Serialize and Deserialize traits를 만든다.

```rust
let point = Point { x: 1, y: 2 };
let serialized = serde_json::to_string(&point).unwrap();
```

### `;` 없이 끌나는 함수?

마지막이 return 값이라는데 왜?

```rust
fn add_one(x: i32) -> i32 {
    x + 1
}
```

### 물음표(?)로 끝나는 함수?

The question mark operator (?) unwraps valid values or returns erroneous values, propagating them to the calling function.

```rust
fn try_to_parse() -> Result<i32, ParseIntError> {
    let x: i32 = "123".parse()?; // x = 123
    let y: i32 = "24a".parse()?; // returns an Err() immediately
    Ok(x + y)                    // Doesn't run.
}

let res = try_to_parse();
println!("{:?}", res);
```
